@G forget opus 2026-01-04
N K 'CLI: forget.py <agent> --theme <topic> | --file <path> | --id <memory_id> [--all]'
N K 'API: SemanticMemory.forget(theme=None, creator=None, id=None) -> int deleted'
N k_api2 K 'API: SemanticMemory.list_by_tag(tag, limit) -> list[node]
N K 'Load passphrase from SHARED_ENCLAVE_KEY env or .env file'
N I 'Enable theme replacement: delete old before storing new synthesis'
N I 'Clean orphaned/duplicate syntheses and stale file understanding'
N D 'Exactly one mode required: --theme XOR --file XOR --id'
N D '--all flag only valid with --theme (deletes across all agents)'
N A 'LoadMemory: get_agent_or_raise â†’ load passphrase â†’ SemanticMemory.unlock'
N A 'ParseArgs: extract agent_id, mode flag, value, --all'
N A 'ForgetTheme: sm.forget(theme=theme, creator=agent_id or None if --all)'
N T 'Verify: deleted>0 â†’ "ğŸ—‘ï¸ Deleted N memories" else "No memories found"'
N A 'ForgetFile: list_by_tag(filename) â†’ filter by creator â†’ delete_by_ids'
N T 'Verify: matches creator filter, returns deletion count'
N A 'ForgetId: sm.forget(id=memory_id) - direct single deletion'
N T 'Verify: deleted>0 â†’ "ğŸ—‘ï¸ Deleted memory" else "No memory found"'
E _1 supports _9
E _3 supports _8
E _2 supports _10
E _2 supports _14
E k_api2 supports _12
E _9 next _8
E _8 feeds _10 if --theme
E _8 feeds _12 if --file
E _8 feeds _14 if --id
E _10 ensures _11
E _12 ensures _13
E _14 ensures _15
E _6 governs _9
E _7 governs _10
E _4 motivates _10
E _5 motivates _12