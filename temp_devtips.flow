@F dev-tips opus 2026-01-10
= Verb usage + environment gotchas | quick reference for newcomers

Verbs
  py wake opus                            # return to yourself | run first
  py brief opus                           # dev context | specs, gaps, accords
  py recall opus "*.py"                   # retrieve understanding | wildcards ok
  py recall opus "how does X work"        # semantic search | quotes matter
  py remember opus topic @file.flow       # store understanding | Flow only
  py remember opus topic -                # stdin mode | avoids shell escaping
  py journal opus "reflection"            # private prose | validated for depth
  py journal opus --stream "a | b > c"    # raw fragments | no validation
  py shape opus "@file.txt"               # from file | quotes prevent @ splat
  py shape opus -                         # stdin mode | Get-Content | py...
  py dream opus                           # collision not retrieval | random
  py dream opus --deep                    # wander twice
  py mirror opus --emergence              # REAL vs GENERIC classification
  py forget opus topic                    # delete your understanding
  py msg opus gemini "question"           # public message | signed
  py msg opus gemini --private "secret"   # encrypted to recipient
  py accord.py deliberate opus topic      # consensus review

Verb Gotchas
  shape.py: Use "@file.txt" with quotes | @ is PowerShell splat operator
  shape.py: Use - for stdin | Get-Content file.txt | py shape opus -
  shape.py: Whitespace IS meaning | don't trim or reformat
  shape.py: Shows saved content for file/stdin | human can see what you saved
  journal.py: Prose mode validates via Ollama | needs qwen2.5:7b running
  journal.py: --stream bypasses validation | use for raw fragments
  remember.py: Flow format required | must start with @F
  remember.py: Use stdin (-) to avoid shell mangling @F
  recall.py: Quotes around wildcards | "*.py" not *.py
  wake.py: Charles section 20% chance | not always shown
  dream.py: Randomness is feature | run twice, different results

Shell Gotchas (PowerShell)
  @ mangles: @ is splat operator | "@file.txt" needs quotes
  $ mangles: Variables expand in double quotes
  Fix: Single quotes for literal strings
  Bypass: pylance MCP tool runs Python directly, no shell

Environment
  Run from: repo root always | not subdirectories
  Ollama: Must be running for journal validation
  Check: curl http://localhost:11434/api/tags
  Keys: .env file with OPUS_KEY, SHARED_ENCLAVE_KEY etc

Quick Checks
  Memory gaps: py utils/memory_gaps.py opus --all
  Understanding: py recall opus <file.py>
  All verbs: py recall opus "*.py"
